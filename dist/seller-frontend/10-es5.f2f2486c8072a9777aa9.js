!function(){function o(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function t(o,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{qvFY:function(r,n,e){"use strict";e.r(n),e.d(n,"ProductModule",(function(){return U}));var i=e("ofXK"),c=e("8/IB"),l=e("tyNb"),s=e("3Pt+"),a=e("fXoL"),u=e("6fg7"),m=e("J0GB");function d(o,t){if(1&o){var r=a.Tb();a.Sb(0,"a",12),a.Zb("click",(function(){a.uc(r);var o=a.bc();return o.showAddProductSection=!o.showAddProductSection})),a.Cc(1,"I'm adding a product not sold here"),a.Rb()}}function b(o,t){if(1&o){var r=a.Tb();a.Sb(0,"a",12),a.Zb("click",(function(){return a.uc(r),a.bc().resetCompleteForm()})),a.Cc(1,"Add new product"),a.Rb()}}function p(o,t){if(1&o){var r=a.Tb();a.Sb(0,"div",16),a.Sb(1,"div",17),a.Ob(2,"img",18),a.Sb(3,"div",19),a.Sb(4,"h5",20),a.Cc(5),a.Rb(),a.Sb(6,"p",21),a.Cc(7),a.Rb(),a.Sb(8,"button",22),a.Zb("click",(function(){a.uc(r);var o=t.$implicit;return a.bc(3).setProductValues(o)})),a.Ob(9,"i",23),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&o){var n=t.$implicit;a.zb(2),a.hc("src",null==n?null:n.productImg[0],a.vc),a.zb(3),a.Dc(null==n?null:n.itemName),a.zb(2),a.Dc(null==n?null:n.brand)}}function f(o,t){if(1&o&&(a.Sb(0,"div",14),a.Bc(1,p,10,3,"div",15),a.Rb()),2&o){var r=a.bc(2);a.zb(1),a.hc("ngForOf",r.searchResult)}}function h(o,t){if(1&o&&(a.Sb(0,"section",1),a.Sb(1,"div",2),a.Sb(2,"h2"),a.Cc(3,"Search Results"),a.Rb(),a.Ob(4,"hr"),a.Bc(5,f,2,1,"div",13),a.Rb(),a.Rb()),2&o){var r=a.bc();a.zb(5),a.hc("ngIf",r.searchResult.length)}}function g(o,t){if(1&o&&(a.Sb(0,"option",70),a.Cc(1),a.Rb()),2&o){var r=t.$implicit;a.ic("value",r._id),a.zb(1),a.Ec("",null==r?null:r.categoryName," ")}}function S(o,t){if(1&o&&(a.Sb(0,"option",70),a.Cc(1),a.Rb()),2&o){var r=t.$implicit;a.ic("value",r._id),a.zb(1),a.Dc(null==r?null:r.subCategoryName)}}function F(o,t){if(1&o){var r=a.Tb();a.Sb(0,"div",72),a.Ob(1,"img",73),a.Sb(2,"span",74),a.Zb("click",(function(){a.uc(r);var o=t.index;return a.bc(3).removeImg(o)})),a.Cc(3,"\xd7"),a.Rb(),a.Rb()}if(2&o){var n=t.$implicit;a.zb(1),a.hc("src",n,a.vc)}}function v(o,t){if(1&o&&(a.Qb(0),a.Bc(1,F,4,1,"div",71),a.Pb()),2&o){var r=a.bc(2);a.zb(1),a.hc("ngForOf",r.imageAttachemts)}}function I(o,t){if(1&o&&(a.Sb(0,"div",72),a.Ob(1,"img",73),a.Rb()),2&o){var r=t.$implicit;a.zb(1),a.hc("src",r,a.vc)}}function C(o,t){if(1&o&&(a.Qb(0),a.Bc(1,I,2,1,"div",71),a.Pb()),2&o){var r=a.bc(2);a.zb(1),a.hc("ngForOf",r.addedimageAttachemts)}}var y=function(o){return{"form-controlError":o}};function z(o,t){if(1&o){var r=a.Tb();a.Sb(0,"div",75),a.Sb(1,"i",76),a.Zb("click",(function(){a.uc(r);var o=t.index;return a.bc(2).removeColor(o)})),a.Rb(),a.Sb(2,"div",77),a.Ob(3,"input",78),a.Rb(),a.Rb()}if(2&o){var n=t.index,e=a.bc(2);a.zb(2),a.hc("formGroupName",n),a.zb(1),a.hc("ngClass",a.lc(2,y,e.isFormSubmitted&&e.productVariationForm.get("color").controls[n].controls.color.errors))}}function R(o,t){if(1&o){var r=a.Tb();a.Sb(0,"div",79),a.Sb(1,"i",76),a.Zb("click",(function(){a.uc(r);var o=t.index;return a.bc(2).removeSize(o)})),a.Rb(),a.Sb(2,"div",77),a.Ob(3,"input",80),a.Rb(),a.Rb()}if(2&o){var n=t.index,e=a.bc(2);a.zb(2),a.hc("formGroupName",n),a.zb(1),a.hc("ngClass",a.lc(2,y,e.isFormSubmitted&&e.productVariationForm.get("size").controls[n].controls.size.errors))}}function P(o,t){if(1&o){var r=a.Tb();a.Sb(0,"button",81),a.Zb("click",(function(){a.uc(r);var o=a.bc(2);return o.step=o.step-1})),a.Cc(1,"Previous"),a.Rb()}}function k(o,t){if(1&o){var r=a.Tb();a.Sb(0,"button",81),a.Zb("click",(function(){a.uc(r);var o=a.bc(2);return o.moveToNextStep(o.step)})),a.Cc(1,"Next"),a.Rb()}}function O(o,t){if(1&o){var r=a.Tb();a.Sb(0,"button",81),a.Zb("click",(function(){return a.uc(r),a.bc(2).addProduct()})),a.Cc(1,"Submit"),a.Rb()}}var w=function(){return{display:"block"}},N=function(){return{display:"none"}};function x(o,t){if(1&o){var r=a.Tb();a.Sb(0,"main",1),a.Sb(1,"div",14),a.Sb(2,"div",24),a.Sb(3,"div",25),a.Sb(4,"div",26),a.Sb(5,"div",27),a.Sb(6,"ul",28),a.Sb(7,"li",29),a.Cc(8,"Product Information"),a.Rb(),a.Sb(9,"li",29),a.Cc(10,"Description"),a.Rb(),a.Sb(11,"li",29),a.Cc(12,"Images"),a.Rb(),a.Sb(13,"li",29),a.Cc(14,"Selling Info"),a.Rb(),a.Sb(15,"li",29),a.Cc(16,"Product Variations"),a.Rb(),a.Rb(),a.Sb(17,"section",30),a.Sb(18,"form",31),a.Sb(19,"label",32),a.Cc(20,"Item Name (AKA Title)"),a.Rb(),a.Ob(21,"input",33),a.Sb(22,"label",32),a.Cc(23,"Model Number"),a.Rb(),a.Ob(24,"input",34),a.Sb(25,"label",32),a.Cc(26,"Barcode"),a.Rb(),a.Ob(27,"input",35),a.Sb(28,"label",32),a.Cc(29,"HSN Number"),a.Rb(),a.Ob(30,"input",36),a.Sb(31,"label",32),a.Cc(32,"Country Of Origin"),a.Rb(),a.Ob(33,"input",37),a.Sb(34,"label",32),a.Cc(35,"City"),a.Rb(),a.Ob(36,"input",38),a.Sb(37,"label",32),a.Cc(38,"Manufacturer"),a.Rb(),a.Ob(39,"input",39),a.Sb(40,"label",32),a.Cc(41,"VIN"),a.Rb(),a.Ob(42,"input",40),a.Sb(43,"label",32),a.Cc(44,"Available Units"),a.Rb(),a.Ob(45,"input",41),a.Sb(46,"label",32),a.Cc(47,"Product Dimensions (inch/cm)"),a.Rb(),a.Sb(48,"div",42),a.Sb(49,"div",43),a.Ob(50,"input",44),a.Rb(),a.Sb(51,"div",43),a.Ob(52,"input",45),a.Rb(),a.Sb(53,"div",43),a.Ob(54,"input",46),a.Rb(),a.Rb(),a.Sb(55,"label",32),a.Cc(56,"Product Weight(kg/gm)"),a.Rb(),a.Ob(57,"input",47),a.Sb(58,"label",32),a.Cc(59,"Category"),a.Rb(),a.Sb(60,"select",48),a.Zb("change",(function(){return a.uc(r),a.bc().getSubCategories()})),a.Sb(61,"option",49),a.Cc(62,"Select Category"),a.Rb(),a.Bc(63,g,2,2,"option",50),a.Rb(),a.Sb(64,"label",32),a.Cc(65,"Sub-Category"),a.Rb(),a.Sb(66,"select",51),a.Sb(67,"option",49),a.Cc(68,"Select Sub-Category"),a.Rb(),a.Bc(69,S,2,2,"option",50),a.Rb(),a.Rb(),a.Rb(),a.Sb(70,"section",30),a.Sb(71,"form",31),a.Sb(72,"label",32),a.Cc(73,"Product Description"),a.Rb(),a.Ob(74,"textarea",52),a.Sb(75,"label",32),a.Cc(76,"Bullet Points"),a.Rb(),a.Sb(77,"textarea",53),a.Cc(78,"                    "),a.Rb(),a.Rb(),a.Rb(),a.Sb(79,"section",30),a.Sb(80,"div",14),a.Sb(81,"div",54),a.Sb(82,"label",55),a.Ob(83,"img",56),a.Rb(),a.Sb(84,"input",57,58),a.Zb("click",(function(){return a.uc(r),a.rc(85).value=null}))("change",(function(o){return a.uc(r),a.bc().uploadFiles(o)})),a.Rb(),a.Rb(),a.Bc(86,v,2,1,"ng-container",59),a.Bc(87,C,2,1,"ng-container",59),a.Rb(),a.Rb(),a.Sb(88,"section",30),a.Sb(89,"form",31),a.Sb(90,"label",32),a.Cc(91,"Your Price"),a.Rb(),a.Ob(92,"input",60),a.Sb(93,"p",61),a.Cc(94,"Note: Match the lowest price"),a.Rb(),a.Sb(95,"label",32),a.Cc(96,"Maximum Retail Price"),a.Rb(),a.Ob(97,"input",62),a.Sb(98,"label",32),a.Cc(99,"SKU"),a.Rb(),a.Ob(100,"input",63),a.Rb(),a.Rb(),a.Sb(101,"section",30),a.Sb(102,"form",31),a.Sb(103,"label",4),a.Cc(104,"Color"),a.Rb(),a.Sb(105,"div",64),a.Bc(106,z,4,4,"div",65),a.Rb(),a.Sb(107,"button",66),a.Zb("click",(function(){return a.uc(r),a.bc().addColor()})),a.Cc(108,"Add Color"),a.Rb(),a.Sb(109,"div"),a.Sb(110,"label",4),a.Cc(111,"Size"),a.Rb(),a.Rb(),a.Sb(112,"div",64),a.Bc(113,R,4,4,"div",67),a.Rb(),a.Sb(114,"button",66),a.Zb("click",(function(){return a.uc(r),a.bc().addSize()})),a.Cc(115,"Add Size"),a.Rb(),a.Rb(),a.Rb(),a.Sb(116,"div",68),a.Bc(117,P,2,0,"button",69),a.Bc(118,k,2,0,"button",69),a.Bc(119,O,2,0,"button",69),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&o){var n=a.bc();a.zb(7),a.hc("ngClass",0==n.step?"active":""),a.zb(2),a.hc("ngClass",1==n.step?"active":""),a.zb(2),a.hc("ngClass",2==n.step?"active":""),a.zb(2),a.hc("ngClass",3==n.step?"active":""),a.zb(2),a.hc("ngClass",4==n.step?"active":""),a.zb(2),a.hc("ngStyle",0==n.step?a.kc(42,w):a.kc(43,N)),a.zb(1),a.hc("formGroup",n.productInformationForm),a.zb(3),a.hc("ngClass",a.lc(44,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.itemName?null:n.productInformationForm.controls.itemName.errors))),a.zb(3),a.hc("ngClass",a.lc(46,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.model?null:n.productInformationForm.controls.model.errors))),a.zb(3),a.hc("ngClass",a.lc(48,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.barcode?null:n.productInformationForm.controls.barcode.errors))),a.zb(3),a.hc("ngClass",a.lc(50,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.hsn?null:n.productInformationForm.controls.hsn.errors))),a.zb(3),a.hc("ngClass",a.lc(52,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.countryOfOrigin?null:n.productInformationForm.controls.countryOfOrigin.errors))),a.zb(3),a.hc("ngClass",a.lc(54,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.city?null:n.productInformationForm.controls.city.errors))),a.zb(3),a.hc("ngClass",a.lc(56,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.brand?null:n.productInformationForm.controls.brand.errors))),a.zb(6),a.hc("ngClass",a.lc(58,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.availableUnits?null:n.productInformationForm.controls.availableUnits.errors))),a.zb(5),a.hc("ngClass",a.lc(60,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.dimensions||null==n.productInformationForm.controls.dimensions.controls||null==n.productInformationForm.controls.dimensions.controls.length?null:n.productInformationForm.controls.dimensions.controls.length.errors))),a.zb(2),a.hc("ngClass",a.lc(62,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.dimensions||null==n.productInformationForm.controls.dimensions.controls||null==n.productInformationForm.controls.dimensions.controls.width?null:n.productInformationForm.controls.dimensions.controls.width.errors))),a.zb(2),a.hc("ngClass",a.lc(64,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.dimensions||null==n.productInformationForm.controls.dimensions.controls||null==n.productInformationForm.controls.dimensions.controls.height?null:n.productInformationForm.controls.dimensions.controls.height.errors))),a.zb(3),a.hc("ngClass",a.lc(66,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.weight?null:n.productInformationForm.controls.weight.errors))),a.zb(3),a.hc("ngClass",a.lc(68,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.categoryId?null:n.productInformationForm.controls.categoryId.errors))),a.zb(3),a.hc("ngForOf",n.categories),a.zb(3),a.hc("ngClass",a.lc(70,y,n.isProductInformationFormSubmitted&&(null==n.productInformationForm||null==n.productInformationForm.controls||null==n.productInformationForm.controls.subCategoryId?null:n.productInformationForm.controls.subCategoryId.errors))),a.zb(3),a.hc("ngForOf",n.subCategories),a.zb(1),a.hc("ngStyle",1==n.step?a.kc(72,w):a.kc(73,N)),a.zb(1),a.hc("formGroup",n.productDescriptionForm),a.zb(3),a.hc("ngClass",a.lc(74,y,n.isProductDescriptionFormSubmitted&&(null==n.productDescriptionForm||null==n.productDescriptionForm.controls||null==n.productDescriptionForm.controls.description?null:n.productDescriptionForm.controls.description.errors))),a.zb(3),a.hc("ngClass",a.lc(76,y,n.isProductDescriptionFormSubmitted&&(null==n.productDescriptionForm||null==n.productDescriptionForm.controls||null==n.productDescriptionForm.controls.heading?null:n.productDescriptionForm.controls.heading.errors))),a.zb(2),a.hc("ngStyle",2==n.step?a.kc(78,w):a.kc(79,N)),a.zb(7),a.hc("ngIf",n.imageAttachemts.length>0),a.zb(1),a.hc("ngIf",n.addedimageAttachemts.length>0),a.zb(1),a.hc("ngStyle",3==n.step?a.kc(80,w):a.kc(81,N)),a.zb(1),a.hc("formGroup",n.sellingInfoForm),a.zb(3),a.hc("ngClass",a.lc(82,y,n.isSellingInfoFormSubmitted&&(null==n.sellingInfoForm||null==n.sellingInfoForm.controls||null==n.sellingInfoForm.controls.productPrice?null:n.sellingInfoForm.controls.productPrice.errors))),a.zb(5),a.hc("ngClass",a.lc(84,y,n.isSellingInfoFormSubmitted&&(null==n.sellingInfoForm||null==n.sellingInfoForm.controls||null==n.sellingInfoForm.controls.mrp?null:n.sellingInfoForm.controls.mrp.errors))),a.zb(3),a.hc("ngClass",a.lc(86,y,n.isSellingInfoFormSubmitted&&(null==n.sellingInfoForm||null==n.sellingInfoForm.controls||null==n.sellingInfoForm.controls.sku?null:n.sellingInfoForm.controls.sku.errors))),a.zb(1),a.hc("ngStyle",4==n.step?a.kc(88,w):a.kc(89,N)),a.zb(1),a.hc("formGroup",n.productVariationForm),a.zb(4),a.hc("ngForOf",n.productVariationForm.get("color").controls),a.zb(7),a.hc("ngForOf",n.productVariationForm.get("size").controls),a.zb(4),a.hc("ngIf",n.step>0),a.zb(1),a.hc("ngIf",n.step<4),a.zb(1),a.hc("ngIf",4==n.step)}}var A,V,M,D=[{path:"",pathMatch:"full",redirectTo:"/add-products"},{path:"add-products",component:(A=function(){function r(t,n,e,i){o(this,r),this.fb=t,this.productService=n,this.router=e,this.toastService=i,this.step=0,this.productStatus=!1,this.showSubMenu=!1,this.userName="",this.categories=[],this.subCategories=[],this.searchResult=[],this.searchText="",this.showAddProductSection=!1,this.productId="",this.files=[],this.isProductInformationFormSubmitted=!1,this.isProductDescriptionFormSubmitted=!1,this.isSellingInfoFormSubmitted=!1,this.isproductVariationFormSubmitted=!1,this.isFormSubmitted=!1,this.isImageUploadFormSubmitted=!1,this.imageAttachemts=[],this.imageAttachemtsToSend=[],this.addedimageAttachemts=[],this.isFromEdit=!1}var n,e,i;return n=r,(e=[{key:"ngOnInit",value:function(){var o=Math.random().toString(36).slice(2);this.productInformationForm=this.fb.group({barcode:["",s.w.required],itemName:["",s.w.required],model:[""],vin:[o],hsn:["",s.w.required],city:["",s.w.required],countryOfOrigin:["",s.w.required],brand:["",s.w.required],availableUnits:["",s.w.required],dimensions:this.fb.group({length:["",s.w.required],width:["",s.w.required],height:["",s.w.required]}),weight:["",s.w.required],categoryId:["",s.w.required],subCategoryId:["",s.w.required]}),this.productDescriptionForm=this.fb.group({description:[""],heading:[""]}),this.sellingInfoForm=this.fb.group({productPrice:[""],mrp:[""],sku:[""]}),this.productVariationForm=this.fb.group({color:this.fb.array([this.fb.group({color:[""]})]),size:this.fb.array([this.fb.group({size:[""]})])}),this.getCategories(),this.userName=JSON.parse(localStorage.getItem("user")).name;var t=localStorage.getItem("product")?JSON.parse(localStorage.getItem("product")):{};t&&Object.keys(t).length&&(this.isFromEdit=!0,this.productId=t._id,this.setProductValues(t))}},{key:"resetCompleteForm",value:function(){this.productDescriptionForm.reset(),this.productInformationForm.reset(),this.sellingInfoForm.reset(),this.productVariationForm.reset(),this.imageAttachemts=[],this.isFromEdit=!1}},{key:"getCategories",value:function(){var o=this;this.productService.getCategories({skip:0,limit:1e4}).subscribe((function(t){o.categories=t.data}),(function(o){console.log(o)}))}},{key:"getSubCategories",value:function(){var o=this;this.productService.getSubCategories({skip:0,limit:1e4,categoryId:this.productInformationForm.controls.categoryId.value}).subscribe((function(t){o.subCategories=t.data}),(function(o){console.log(o)}))}},{key:"addProduct",value:function(){var o,t=this;if(this.isFormSubmitted=!0,this.productVariationForm.valid){var r=Object.assign(this.productDescriptionForm.value,this.productInformationForm.value,this.productVariationForm.value,this.sellingInfoForm.value);this.isFromEdit&&(r.productId=this.productId);var n=[],e=[];r.sellerName=JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")).name:"",r.color.forEach((function(o){n.push(o.color)})),r.color=n,r.size.forEach((function(o){e.push(o.size)})),(null===(o=this.addedimageAttachemts)||void 0===o?void 0:o.length)&&(r.productImg=this.addedimageAttachemts),r.size=e,this.isFromEdit||(r.isApproved=this.productStatus),r.productPrice=r.productPrice.toString(),r.mrp=r.mrp.toString(),r.availableUnits=Number(r.availableUnits),this.isFromEdit?this.productService.editProduct(r).subscribe((function(o){t.toastService.openSnackbar(o.message),t.productId=o.data._id,t.addProductImages(),t.showAddProductSection=!1,t.step=0,t.productInformationForm.reset(),t.productDescriptionForm.reset(),t.imageAttachemts=[],t.sellingInfoForm.reset(),t.productVariationForm.reset(),t.isProductInformationFormSubmitted=!1,t.isProductDescriptionFormSubmitted=!1,t.isSellingInfoFormSubmitted=!1,t.isproductVariationFormSubmitted=!1,t.isFormSubmitted=!1,t.isImageUploadFormSubmitted=!1;var r=t.productVariationForm.controls.color;r.clear(),r.push(t.colorForm());var n=t.productVariationForm.controls.size;n.clear(),n.push(t.sizeForm()),t.isFromEdit=!1}),(function(o){console.log(o)})):this.productService.addProduct(r).subscribe((function(o){t.toastService.openSnackbar(o.message),t.productId=o.data._id,t.addProductImages(),t.showAddProductSection=!1,t.step=0,t.productInformationForm.reset(),t.productDescriptionForm.reset(),t.imageAttachemts=[],t.sellingInfoForm.reset(),t.productVariationForm.reset(),t.isProductInformationFormSubmitted=!1,t.isProductDescriptionFormSubmitted=!1,t.isSellingInfoFormSubmitted=!1,t.isproductVariationFormSubmitted=!1,t.isFormSubmitted=!1,t.isImageUploadFormSubmitted=!1;var r=t.productVariationForm.controls.color;r.clear(),r.push(t.colorForm());var n=t.productVariationForm.controls.size;n.clear(),n.push(t.sizeForm())}),(function(o){console.log(o)}))}}},{key:"removeImg",value:function(o){this.imageAttachemts.splice(o,1),this.imageAttachemtsToSend.splice(o,1)}},{key:"resetForm",value:function(){this.addProductForm.reset(),this.router.navigateByUrl("/seller/active-dashboard")}},{key:"searchProduct",value:function(){var o=this;this.productSearchSubscription&&this.productSearchSubscription.unsubscribe(),this.searchResult=[],this.searchText&&(this.productSearchSubscription=this.productService.searchProduct(this.searchText).subscribe((function(t){console.log(t),o.searchResult=t.data}),(function(o){console.log(o)})))}},{key:"setProductValues",value:function(o){this.showAddProductSection=!0,this.step=0,this.productStatus=o.isApproved,this.productVariationForm.patchValue(o),this.productInformationForm.patchValue(o),this.productDescriptionForm.patchValue(o),this.sellingInfoForm.patchValue(o),this.getSubCategories(),this.addedimageAttachemts=o.productImg;var t=this.productVariationForm.controls.color;t.clear();for(var r=0;r<o.color.length;r++)t.push(this.colorForm()),this.productVariationForm.controls.color.at(r).get("color").setValue(o.color[r]);var n=this.productVariationForm.controls.size;n.clear();for(var e=0;e<o.size.length;e++)n.push(this.sizeForm()),this.productVariationForm.controls.size.at(e).get("size").setValue(o.size[e]);this.searchResult=[],this.searchText=""}},{key:"uploadFiles",value:function(o){var t=this;if(this.imageAttachemts.length<5){this.files=o.target.files,this.tempFiles=o.target.files[0];var r=o.target.files[0].name,n=r.slice(r.lastIndexOf(".")+1,r.length);if("jpg"==n||"jpeg"==n||"png"==n)if(this.tempFiles&&this.tempFiles.size/1e3/1e3<2){this.imageAttachemtsToSend.push(o.target.files[0]);var e=new FileReader;o.target.files&&o.target.files[0]&&(e.readAsDataURL(this.tempFiles),e.onload=function(){t.imageUrl=e.result,t.imageAttachemts.push(t.imageUrl)})}else this.toastService.openSnackbar("Invalid File Format. Valid Format are jpg, jpeg & png");else this.toastService.openSnackbar(this.tempFiles.name+" cannot be uploaded because it exceeds max size limit of 2 MB.")}else this.toastService.openSnackbar("More than 5 images are not allowed.")}},{key:"addProductDescription",value:function(){var o=this;this.productService.addProductDescription(this.x).subscribe((function(t){console.log(t),o.toastService.openSnackbar("Description added successfully!!"),o.router.navigate(["/product/product-images",t.data._id])}),(function(o){console.log(o)}))}},{key:"addProductImages",value:function(){var o;if(null===(o=this.imageAttachemtsToSend)||void 0===o?void 0:o.length){var t=new FormData;Array.from(this.imageAttachemtsToSend).forEach((function(o){t.append("files",o)})),t.append("productId",this.productId),this.productService.addProductImages(t).subscribe((function(o){console.log(o)}),(function(o){console.log(o)}))}}},{key:"addProductSellingInfo",value:function(){var o=this;this.productService.addProductSellingInfo(this.x).subscribe((function(t){console.log(t),o.toastService.openSnackbar("Added selling info successfully"),o.router.navigate(["/product/product-variation",t.data._id])}),(function(o){console.log(o)}))}},{key:"addColor",value:function(){this.colors=this.productVariationForm.get("color"),this.colors.push(this.fb.group({color:["",s.w.required]}))}},{key:"addSize",value:function(){this.sizes=this.productVariationForm.get("size"),this.sizes.push(this.fb.group({size:["",s.w.required]}))}},{key:"removeSize",value:function(o){this.sizes=this.productVariationForm.get("size"),this.sizes.removeAt(o)}},{key:"removeColor",value:function(o){this.colors=this.productVariationForm.get("color"),this.colors.removeAt(o)}},{key:"moveToNextStep",value:function(o){console.log(this.productInformationForm.controls.dimensions),0==o&&(this.isProductInformationFormSubmitted=!0,this.productInformationForm.valid?this.step=o+1:this.toastService.openSnackbar("Please input first all the red bordered fields.")),1==o&&(this.isProductDescriptionFormSubmitted=!0,this.productDescriptionForm.valid&&(this.step=o+1)),2==o&&(this.isImageUploadFormSubmitted=!0,this.step=o+1),3==o&&(this.isSellingInfoFormSubmitted=!0,this.sellingInfoForm.valid&&(this.step=o+1))}},{key:"colorForm",value:function(){return this.fb.group({color:[null,s.w.required]})}},{key:"sizeForm",value:function(){return this.fb.group({size:[null,s.w.required]})}},{key:"ngOnDestroy",value:function(){this.isFromEdit=!1,localStorage.removeItem("product")}}])&&t(n.prototype,e),i&&t(n,i),r}(),A.\u0275fac=function(o){return new(o||A)(a.Nb(s.d),a.Nb(c.a),a.Nb(l.b),a.Nb(u.a))},A.\u0275cmp=a.Hb({type:A,selectors:[["app-add-products"]],decls:19,vars:5,consts:[[1,"page-wrapper","chiller-theme","toggled"],[1,"page-content"],[1,"container-fluid"],[1,"border","rounded","border-light","p-sm-5","p-3"],["for","",1,""],[1,"input-group"],["type","text","name","search","placeholder","Product Name, Barcode, Brand, CIN (Company Identification Number)",1,"form-control",3,"ngModel","keyup","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-search"],["class","text-primary",3,"click",4,"ngIf"],["class","page-content",4,"ngIf"],[1,"text-primary",3,"click"],["class","row",4,"ngIf"],[1,"row"],["class","col-sm-4 col-md-3 col-lg-2 my-2",4,"ngFor","ngForOf"],[1,"col-sm-4","col-md-3","col-lg-2","my-2"],[1,"card","px-2"],[1,"card-img-top",2,"height","150px",3,"src"],[1,"card-body","px-0"],[1,"card-title"],[1,"card-text"],["type","button",1,"btn","btn-success","btn-sm","mx-2",3,"click"],["aria-hidden","true",1,"fa","fa-check"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],["id","wizard"],[1,"nav","nav-justified","nav-pills"],["disabled","true",3,"ngClass"],[1,"border","rounded","border-light","p-sm-5","p-3",3,"ngStyle"],[3,"formGroup"],["for","",1,"small"],["type","text","placeholder","Item Name","formControlName","itemName",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Model Name","formControlName","model",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Barcode","formControlName","barcode",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","HSN Number","formControlName","hsn",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","","formControlName","countryOfOrigin",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","City","formControlName","city",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Manufacturer","formControlName","brand",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","VIN","formControlName","vin","disabled","",1,"form-control","mb-4"],["type","","placeholder","Available Units","formControlName","availableUnits",1,"form-control","mb-4",3,"ngClass"],["formGroupName","dimensions",1,"row","d-flex","justify-content-between","col-12"],[1,"col-md-4"],["type","text","placeholder","Length","formControlName","length",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Width","formControlName","width",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Height","formControlName","height",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","","formControlName","weight",1,"form-control","mb-4",3,"ngClass"],["name","","id","","formControlName","categoryId",1,"form-control","mb-4",3,"ngClass","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","","id","","formControlName","subCategoryId",1,"form-control","mb-4",3,"ngClass"],["placeholder","8-Peice luxury comforter set product includes 1 comforter, 1 bed skirt, 2 shams, 2 euro shams and 2 decorated pillows","formControlName","description",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","Embroidered design","formControlName","heading",1,"form-control","mb-4",3,"ngClass"],[1,"col-lg-2","col-md-3","col-sm-6","my-2"],["for","file-input1"],["src","https://toppng.com/uploads/preview/file-upload-image-icon-115632290507ftgixivqp.png",2,"width","100%","cursor","pointer"],["id","file-input1","type","file","accept",".png, .jpeg, .jpg",1,"d-none",3,"click","change"],["fileInput",""],[4,"ngIf"],["type","number","placeholder","Ex. 50.00","formControlName","productPrice",1,"form-control",3,"ngClass"],[1,"mb-4","text-success","small"],["type","number","placeholder","Ex. 50.00","formControlName","mrp",1,"form-control","mb-4",3,"ngClass"],["type","text","placeholder","","formControlName","sku",1,"form-control","mb-4",3,"ngClass"],[1,"row","d-flex","col-12"],["formArrayName","color",4,"ngFor","ngForOf"],["type","button",1,"btn","mb-4","btn-sm","btn-dark",3,"click"],["formArrayName","size",4,"ngFor","ngForOf"],[1,"row","float-right","mt-3"],["type","button","class","btn btn-sm btn-primary mr-2",3,"click",4,"ngIf"],[3,"value"],["class","col-lg-4 col-md-8 col-sm-6 my-2",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-8","col-sm-6","my-2"],["alt","","width","100%",3,"src"],[2,"position","absolute","font-size","20px","cursor","pointer",3,"click"],["formArrayName","color"],["aria-hidden","true",1,"fa","fa-times",3,"click"],[3,"formGroupName"],["type","text","placeholder","Color","formControlName","color",1,"form-control","mb-2","mr-2",3,"ngClass"],["formArrayName","size"],["type","text","placeholder","Size","formControlName","size",1,"form-control","mb-2","mr-2",3,"ngClass"],["type","button",1,"btn","btn-sm","btn-primary","mr-2",3,"click"]],template:function(o,t){1&o&&(a.Sb(0,"div",0),a.Ob(1,"app-side-navigation"),a.Sb(2,"section",1),a.Sb(3,"div",2),a.Sb(4,"h2"),a.Cc(5,"Find Your Products"),a.Rb(),a.Ob(6,"hr"),a.Sb(7,"form",3),a.Sb(8,"label",4),a.Cc(9,"Search Product"),a.Rb(),a.Sb(10,"div",5),a.Sb(11,"input",6),a.Zb("keyup",(function(){return t.searchProduct()}))("ngModelChange",(function(o){return t.searchText=o})),a.Rb(),a.Sb(12,"div",7),a.Sb(13,"button",8),a.Zb("click",(function(){return t.searchProduct()})),a.Ob(14,"i",9),a.Rb(),a.Rb(),a.Rb(),a.Bc(15,d,2,0,"a",10),a.Bc(16,b,2,0,"a",10),a.Rb(),a.Rb(),a.Rb(),a.Bc(17,h,6,1,"section",11),a.Bc(18,x,120,90,"main",11),a.Rb()),2&o&&(a.zb(11),a.hc("ngModel",t.searchText),a.zb(4),a.hc("ngIf",!t.isFromEdit),a.zb(1),a.hc("ngIf",t.isFromEdit),a.zb(1),a.hc("ngIf",t.searchResult.length),a.zb(1),a.hc("ngIf",t.showAddProductSection))},directives:[m.a,s.y,s.n,s.o,s.b,s.m,s.p,i.k,i.j,i.i,i.l,s.f,s.e,s.g,s.v,s.q,s.x,s.r,s.c],styles:[".text-light[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important}.upload_frame[_ngcontent-%COMP%]{width:180px;border:4px dotted #ddd;margin:0 auto}#wizard[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{padding:0}#wizard[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:170px;display:inline-block;font-size:inherit;background:#f2f2f2;padding:6px 15px;text-align:left;margin-right:10px;margin-bottom:10px;border-radius:3px;color:#aaa;font-weight:100}#wizard[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{cursor:pointer}#wizard[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.form-controlError[_ngcontent-%COMP%]{border:1px solid red!important}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.erroMessage[_ngcontent-%COMP%]{color:red}"]}),A)}],T=((V=function t(){o(this,t)}).\u0275mod=a.Lb({type:V}),V.\u0275inj=a.Kb({factory:function(o){return new(o||V)},imports:[[l.f.forChild(D)],l.f]}),V),_=e("dbUT"),B=e("tk/3"),E=e("WeEj"),q=e("PCNd"),U=((M=function t(){o(this,t)}).\u0275mod=a.Lb({type:M}),M.\u0275inj=a.Kb({factory:function(o){return new(o||M)},providers:[c.a,E.a],imports:[[i.b,T,_.a.forRoot(),s.t,s.h,B.c,q.a]]}),M)}}])}();