(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OpKh:function(e,o,t){"use strict";t.r(o),t.d(o,"AuthenticationModule",(function(){return P}));var r=t("ofXK"),l=t("tyNb"),n=t("3Pt+"),a=t("fXoL"),i=t("W4xs"),s=t("6fg7");function c(e,o){1&e&&(a.Qb(0,"p",24),a.zc(1," Please provide a email! "),a.Pb())}function m(e,o){1&e&&(a.Qb(0,"p",24),a.zc(1," Please provide a valid email! "),a.Pb())}function b(e,o){1&e&&(a.Qb(0,"p",24),a.zc(1," Please provide a password! "),a.Pb())}function g(e,o){if(1&e&&(a.Qb(0,"span"),a.zc(1),a.Pb()),2&e){const e=a.Zb();a.zb(1),a.Ac(e.loginError)}}let d=(()=>{class e{constructor(e,o,t,r){this.fb=e,this.authService=o,this.router=t,this.toastService=r,this.loginError=null}ngOnInit(){this.loginForm=this.fb.group({email:["",[n.w.email,n.w.required]],password:["",[n.w.required]],rememberMe:[!1]}),JSON.parse(localStorage.getItem("remember"))&&(this.loginForm.controls.rememberMe.setValue(!0),this.loginForm.controls.email.setValue(localStorage.getItem("email")),this.loginForm.controls.password.setValue(localStorage.getItem("password")))}login(e){this.loginAttempt=!0,e&&this.authService.login({email:this.loginForm.controls.email.value,password:this.loginForm.controls.password.value}).subscribe(e=>{400!==e.code?200===e.code?(console.log(e),sessionStorage.setItem("token",e.accessToken),localStorage.setItem("user",JSON.stringify(e.data)),this.loginForm.controls.rememberMe.value?(localStorage.setItem("remember",JSON.stringify(!0)),localStorage.setItem("email",this.loginForm.controls.email.value),localStorage.setItem("password",this.loginForm.controls.password.value)):(localStorage.setItem("remember",JSON.stringify(!1)),localStorage.setItem("email",""),localStorage.setItem("password","")),JSON.parse(localStorage.getItem("user")),this.router.navigateByUrl("/seller/active-dashboard")):this.loginError=e.messgae:(console.log("Error",e.message),this.toastService.openSnackbar(e.message?e.message:"Unknown Error Occured!"))},e=>{console.log(e)})}}return e.\u0275fac=function(o){return new(o||e)(a.Nb(n.d),a.Nb(i.a),a.Nb(l.b),a.Nb(s.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["app-login"]],decls:44,vars:5,consts:[[1,"container-fluid"],[1,"row","d-flex","justify-content-center"],[1,"col-md-5","col-lg-4","col-sm-8"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"text-left",3,"formGroup","ngSubmit"],["for","",1,"m-0","small","mt-4"],["formControlName","email","type","email","id","defaultLoginFormEmail","placeholder","E-mail",1,"form-control"],["class","deep-orange-text small m-0",4,"ngIf"],["formControlName","password","type","password","id","defaultLoginFormPassword","placeholder","Password",1,"form-control"],[4,"ngIf"],[1,"d-md-flex","d-block","mt-3","justify-content-between"],[1,"custom-control","custom-checkbox"],["name","rememberMe","formControlName","rememberMe","type","checkbox","id","defaultLoginFormRemember",1,"custom-control-input"],["for","defaultLoginFormRemember",1,"custom-control-label"],["href","",1,"small"],["type","submit",1,"btn","elegant-color","text-white","btn-sm","btn-block","my-4","rounded"],[1,"small"],["href",""],[1,"my-4"],[1,"d-flex","justify-content-center"],[1,"mx-auto","bg-white","small","d-inline-block","px-2","text-black-50",2,"margin-top","-36px"],["href","","role","button",1,"btn-block","unique-color","text-white","btn","btn-sm","rounded"],[1,"deep-orange-text","small","m-0"]],template:function(e,o){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"div",3),a.Qb(4,"div",4),a.Qb(5,"h4",5),a.Qb(6,"b"),a.zc(7,"Sign In"),a.Pb(),a.Pb(),a.Qb(8,"form",6),a.Xb("ngSubmit",(function(){return o.login(o.loginForm.valid)})),a.Qb(9,"label",7),a.zc(10,"Email"),a.Pb(),a.Ob(11,"input",8),a.yc(12,c,2,0,"p",9),a.yc(13,m,2,0,"p",9),a.Qb(14,"label",7),a.zc(15,"Password"),a.Pb(),a.Ob(16,"input",10),a.yc(17,b,2,0,"p",9),a.yc(18,g,2,1,"span",11),a.Qb(19,"div",12),a.Qb(20,"div"),a.Qb(21,"div",13),a.Ob(22,"input",14),a.Qb(23,"label",15),a.zc(24,"Remember me"),a.Pb(),a.Pb(),a.Pb(),a.Qb(25,"div"),a.Qb(26,"a",16),a.zc(27,"Forgot password?"),a.Pb(),a.Pb(),a.Pb(),a.Qb(28,"button",17),a.zc(29,"Sign in"),a.Pb(),a.Qb(30,"p",18),a.zc(31,"By continuing, you agree to our "),a.Qb(32,"a",19),a.zc(33,"Terms of Use"),a.Pb(),a.zc(34," and "),a.Qb(35,"a",19),a.zc(36,"Privacy Policy"),a.Pb(),a.zc(37,"."),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Ob(38,"hr",20),a.Qb(39,"div",21),a.Qb(40,"p",22),a.zc(41,"New Member ?"),a.Pb(),a.Pb(),a.Qb(42,"a",23),a.zc(43,"Create your account"),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.zb(8),a.fc("formGroup",o.loginForm),a.zb(4),a.fc("ngIf",!o.loginForm.get("email").valid&&o.loginAttempt&&o.loginForm.get("email").hasError("required")),a.zb(1),a.fc("ngIf",o.loginForm.get("email").hasError("email")),a.zb(4),a.fc("ngIf",!o.loginForm.get("password").valid&&o.loginAttempt&&o.loginForm.get("password").hasError("required")),a.zb(1),a.fc("ngIf",o.loginError))},directives:[n.y,n.n,n.f,n.b,n.m,n.e,r.k,n.a],styles:[""]}),e})();const u=[{path:"register",component:t("zzch").a},{path:"login",component:d}];let p=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(o){return new(o||e)},imports:[[l.e.forChild(u)],l.e]}),e})();var f=t("dbUT"),h=t("tk/3"),w=t("WeEj");let P=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(o){return new(o||e)},providers:[i.a,w.a],imports:[[r.b,p,f.a,n.h,n.t,h.c]]}),e})()}}]);